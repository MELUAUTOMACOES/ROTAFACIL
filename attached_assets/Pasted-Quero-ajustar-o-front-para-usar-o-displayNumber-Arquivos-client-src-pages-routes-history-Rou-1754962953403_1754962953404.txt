Quero ajustar o front para usar o displayNumber.

Arquivos:
- client/src/pages/routes-history/RoutesHistoryPage.tsx
- (drawer) client/src/pages/appointments/OptimizeRouteDrawer.tsx  // ou arquivo onde fica o botão "Salvar Rota"

1) RoutesHistoryPage.tsx
1.1) Na tabela, adicione a primeira coluna "ID" e exiba #{route.displayNumber}.
ANTES (cabeçalho):
<th> Título </th>
DEPOIS:
<th>ID</th>
<th>Título</th>

ANTES (linha):
<td>{route.title}</td>
DEPOIS:
<td>#{route.displayNumber}</td>
<td>{route.title}</td>

2) OptimizeRouteDrawer.tsx (ou equivalente)
2.1) No handler de salvar, NÃO feche o drawer. Guarde id e displayNumber para renderizar o aviso/botão.

ANTES:
const handleSave = async () => {
  setSaving(true);
  try {
    const res = await fetch('/api/routes/optimize', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ ...payload, preview:false })});
    const data = await res.json();
    toast({ title: 'Rota salva com sucesso' });
    onClose(); // REMOVER
  } finally { setSaving(false); }
};

DEPOIS:
const [savedInfo, setSavedInfo] = useState<null | { id: string; displayNumber: number }>(null);

const handleSave = async () => {
  setSaving(true);
  try {
    const res = await fetch('/api/routes/optimize', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ ...payload, preview: false }),
    });
    if (!res.ok) throw new Error('Falha ao salvar');
    const data = await res.json();
    setSavedInfo({ id: data.route.id, displayNumber: data.route.displayNumber });
    // mantém drawer aberto
    toast({ title: `Rota salva com sucesso — ID #${data.route.displayNumber}` });
  } catch (e) {
    toast({ title: 'Erro ao salvar rota', variant: 'destructive' });
  } finally {
    setSaving(false);
  }
};

2.2) Abaixo dos botões do drawer (Salvar / Iniciar / Exportar), renderize condicionalmente o aviso + botão sem fechar:

{savedInfo && (
  <div className="mt-3 flex items-center justify-between gap-2">
    <div className="text-sm">
      <span className="font-medium">Rota salva com sucesso</span>
      <span className="ml-1">ID #{savedInfo.displayNumber}</span>
    </div>
    <button
      type="button"
      className="px-3 py-2 rounded-xl bg-[#DAA520] text-black hover:bg-[#B8860B] transition"
      onClick={() => window.open(`/routes-history?open=${savedInfo.id}&id=${savedInfo.displayNumber}`, '_blank')}
    >
      Ver no Histórico
    </button>
  </div>
)}

3) (Opcional) Em client/src/pages/routes-history/RoutesHistoryPage.tsx, se a URL tiver ?open=<routeId>, abra automaticamente a modal de detalhes dessa rota após carregar a lista.

Mostre o diff dos dois arquivos, rode o fluxo “Salvar Rota” e confirme:
- toast com “ID #X”,
- drawer permanece aberto,
- botão “Ver no Histórico” abre /routes-history numa nova aba,
- coluna “ID” exibe #{displayNumber}.
